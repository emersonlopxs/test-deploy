{"version":3,"sources":["../../../../src/core/error-handler/erros-mutators/database-mutator.js"],"names":["databaseMutator","error","req","res","next","sqlMessage","code","startsWith","ExposableError","message"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,eAAe,GAAG,CAACC,KAAD,EAAQC,GAAR,EAAaC,GAAb,EAAkBC,IAAlB,KAA2B;AAAA;;AACxD,MAAIH,KAAK,CAACI,UAAN,mBAAoBJ,KAAK,CAACK,IAA1B,wCAAoB,YAAYC,UAAZ,CAAuB,eAAvB,CAAxB,EAAiE;AAC/D,WAAOH,IAAI,CAAC,IAAII,sBAAJ,CAAmBP,KAAK,CAACQ,OAAzB,EAAkC,GAAlC,EAAuCR,KAAvC,CAAD,CAAX;AACD;;AAED,SAAOG,IAAI,CAACH,KAAD,CAAX;AACD,CANM","sourcesContent":["import { ExposableError } from \"~/errors\";\n\nexport const databaseMutator = (error, req, res, next) => {\n  if (error.sqlMessage || error.code?.startsWith(\"ERR_DATABASE_\")) {\n    return next(new ExposableError(error.message, 400, error));\n  }\n\n  return next(error);\n};\n"],"file":"database-mutator.js"}