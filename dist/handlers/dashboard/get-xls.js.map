{"version":3,"sources":["../../../src/handlers/dashboard/get-xls.js"],"names":["setHeader","data","res","name","getXls","params","response","then","models","dashboard"],"mappings":";;;;;;;;;AAAA;;AAEA,eAAeA,SAAf,CAAyBC,IAAzB,EAA+BC,GAA/B,EAAoC;AAClCA,EAAAA,GAAG,CAACF,SAAJ,CAAc,qBAAd,EAAsC,wBAAuBC,IAAI,CAACE,IAAK,MAAvE;AACAD,EAAAA,GAAG,CAACF,SAAJ,CAAc,cAAd,EAA8B,UAA9B;AAEA,SAAO;AACLC,IAAAA,IADK;AAELC,IAAAA;AAFK,GAAP;AAID;;AAEM,MAAME,MAAM,GAAG,CAACC,MAAD,EAASC,QAAT,KACpBN,SAAS,CAACK,MAAD,EAASC,QAAT,CAAT,CAA4BC,IAA5B,CAAiC,CAAC;AAAEN,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAmBM,MAAM,CAACC,SAAP,CAAiBL,MAAjB,CAAwBH,IAAxB,EAA8BC,GAA9B,CAApD,CADK","sourcesContent":["import * as models from \"~/models\";\n\nasync function setHeader(data, res) {\n  res.setHeader(\"Content-disposition\", `attachment; filename=${data.name}.csv`);\n  res.setHeader(\"Content-type\", \"text/csv\");\n\n  return {\n    data,\n    res,\n  };\n}\n\nexport const getXls = (params, response) =>\n  setHeader(params, response).then(({ data, res }) => models.dashboard.getXls(data, res));\n"],"file":"get-xls.js"}