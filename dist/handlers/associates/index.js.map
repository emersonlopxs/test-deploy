{"version":3,"sources":["../../../src/handlers/associates/index.js"],"names":["router","get","req","res","next","query","limit","offset","then","data","json","catch","auth","id","params","post","body","files","status","end","patch","delete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEO,MAAMA,MAAM,GAAG,sBAAf;;AAGPA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACd,gBAAK;AACHC,EAAAA,KAAK,EAAEH,GAAG,CAACG,KAAJ,CAAUA,KADd;AAEHC,EAAAA,KAAK,EAAEJ,GAAG,CAACG,KAAJ,CAAUC,KAFd;AAGHC,EAAAA,MAAM,EAAEL,GAAG,CAACG,KAAJ,CAAUE;AAHf,CAAL,EAKGC,IALH,CAKQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CALhB,EAMGE,KANH,CAMSP,IANT,CADF;AAUAJ,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBW,UAAnB,EAAyB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACvB,cAAI;AACFS,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD;AADb,CAAJ,EAGGL,IAHH,CAGQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CAHhB,EAIGE,KAJH,CAISP,IAJT,CADF;AAQAJ,MAAM,CAACe,IAAP,CAAY,GAAZ,EAAiBH,UAAjB,EAAuB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACrB,oBAAO,EAAE,GAAGF,GAAG,CAACc,IAAT;AAAe,KAAGd,GAAG,CAACe;AAAtB,CAAP,EACGT,IADH,CACQ,MAAML,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGR,KAFH,CAESP,IAFT,CADF;AAMAJ,MAAM,CAACoB,KAAP,CAAa,MAAb,EAAqBR,UAArB,EAA2B,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACzB,oBAAO;AAAES,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD,EAAjB;AAAqB,KAAGX,GAAG,CAACc,IAA5B;AAAkC,KAAGd,GAAG,CAACe;AAAzC,CAAP,EACGT,IADH,CACQ,MAAML,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGR,KAFH,CAESP,IAFT,CADF;AAMAJ,MAAM,CAACqB,MAAP,CAAc,MAAd,EAAsBT,UAAtB,EAA4B,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAC1B,oBAAO;AACLS,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD;AADV,CAAP,EAGGL,IAHH,CAGQ,MAAML,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EAHd,EAIGR,KAJH,CAISP,IAJT,CADF","sourcesContent":["import { Router } from \"express\";\nimport { auth } from \"~/core/auth\";\nimport { list } from \"./list\";\nimport { get } from \"./get\";\nimport { insert } from \"./insert\";\nimport { update } from \"./update\";\nimport { remove } from \"./remove\";\n\nexport const router = Router();\nexport { list, get, insert, update, remove };\n\nrouter.get(\"/\", (req, res, next) =>\n  list({\n    query: req.query.query,\n    limit: req.query.limit,\n    offset: req.query.offset,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.get(\"/:id\", auth, (req, res, next) =>\n  get({\n    id: req.params.id,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.post(\"/\", auth, (req, res, next) =>\n  insert({ ...req.body, ...req.files })\n    .then(() => res.status(201).end())\n    .catch(next)\n);\n\nrouter.patch(\"/:id\", auth, (req, res, next) =>\n  update({ id: req.params.id, ...req.body, ...req.files })\n    .then(() => res.status(201).end())\n    .catch(next)\n);\n\nrouter.delete(\"/:id\", auth, (req, res, next) =>\n  remove({\n    id: req.params.id,\n  })\n    .then(() => res.status(201).end())\n    .catch(next)\n);\n"],"file":"index.js"}