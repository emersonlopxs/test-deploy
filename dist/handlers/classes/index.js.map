{"version":3,"sources":["../../../src/handlers/classes/index.js"],"names":["router","get","req","res","next","query","id","auth","role","then","data","json","catch","params","post","body","status","end","patch","delete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEO,MAAMA,MAAM,GAAG,sBAAf;;AAGPA,MAAM,CAACC,GAAP,CAAW,WAAX,EAAwB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACtB,sCAAgBF,GAAG,CAACG,KAApB,EAA2B;AAAEC,EAAAA,EAAE,EAAEJ,GAAG,CAACK,IAAJ,CAASD,EAAf;AAAmBE,EAAAA,IAAI,EAAEN,GAAG,CAACK,IAAJ,CAASC;AAAlC,CAA3B,EACGC,IADH,CACQC,IAAI,IAAIP,GAAG,CAACQ,IAAJ,CAASD,IAAT,CADhB,EAEGE,KAFH,CAESR,IAFT,CADF;AAMAJ,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACd,gBAAKF,GAAG,CAACG,KAAT,EACGI,IADH,CACQC,IAAI,IAAIP,GAAG,CAACQ,IAAJ,CAASD,IAAT,CADhB,EAEGE,KAFH,CAESR,IAFT,CADF;AAMAJ,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACjB,cAAIF,GAAG,CAACW,MAAR,EACGJ,IADH,CACQC,IAAI,IAAIP,GAAG,CAACQ,IAAJ,CAASD,IAAT,CADhB,EAEGE,KAFH,CAESR,IAFT,CADF;AAMAJ,MAAM,CAACc,IAAP,CAAY,GAAZ,EAAiB,CAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACf,oBAAOF,GAAG,CAACa,IAAX,EAAiBb,GAAG,CAACK,IAAJ,CAASD,EAA1B,EACGG,IADH,CACQ,MAAMN,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGL,KAFH,CAESR,IAFT,CADF;AAMAJ,MAAM,CAACkB,KAAP,CAAa,cAAb,EAA6B,CAAChB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAC3B,sBAAQ,EAAE,GAAGF,GAAG,CAACW,MAAT;AAAiB,KAAGX,GAAG,CAACG;AAAxB,CAAR,EACGI,IADH,CACQ,MAAMN,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGL,KAFH,CAESR,IAFT,CADF;AAMAJ,MAAM,CAACmB,MAAP,CAAc,MAAd,EAAsB,CAACjB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACpB,oBAAOF,GAAG,CAACW,MAAX,EACGJ,IADH,CACQ,MAAMN,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGL,KAFH,CAESR,IAFT,CADF","sourcesContent":["import { Router } from \"express\";\nimport { list } from \"./list\";\nimport { listWithContent } from \"./list-with-content\";\nimport { get } from \"./get\";\nimport { insert } from \"./insert\";\nimport { approve } from \"./approve\";\nimport { remove } from \"./remove\";\n\nexport const router = Router();\nexport { list, listWithContent, get, insert, approve, remove };\n\nrouter.get(\"/contents\", (req, res, next) =>\n  listWithContent(req.query, { id: req.auth.id, role: req.auth.role })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.get(\"/\", (req, res, next) =>\n  list(req.query)\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.get(\"/:id\", (req, res, next) =>\n  get(req.params)\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.post(\"/\", (req, res, next) =>\n  insert(req.body, req.auth.id)\n    .then(() => res.status(201).end())\n    .catch(next)\n);\n\nrouter.patch(\"/:id/approve\", (req, res, next) =>\n  approve({ ...req.params, ...req.query })\n    .then(() => res.status(204).end())\n    .catch(next)\n);\n\nrouter.delete(\"/:id\", (req, res, next) =>\n  remove(req.params)\n    .then(() => res.status(204).end())\n    .catch(next)\n);\n"],"file":"index.js"}