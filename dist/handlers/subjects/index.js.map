{"version":3,"sources":["../../../src/handlers/subjects/index.js"],"names":["router","get","req","res","next","query","then","data","json","catch","auth","params","post","body","status","end","patch","delete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEO,MAAMA,MAAM,GAAG,sBAAf;;AAGPA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACd,gBAAKF,GAAG,CAACG,KAAT,EACGC,IADH,CACQC,IAAI,IAAIJ,GAAG,CAACK,IAAJ,CAASD,IAAT,CADhB,EAEGE,KAFH,CAESL,IAFT,CADF;AAMAJ,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBS,UAAnB,EAAyB,CAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACvB,cAAIF,GAAG,CAACS,MAAR,EACGL,IADH,CACQC,IAAI,IAAIJ,GAAG,CAACK,IAAJ,CAASD,IAAT,CADhB,EAEGE,KAFH,CAESL,IAFT,CADF;AAMAJ,MAAM,CAACY,IAAP,CAAY,GAAZ,EAAiBF,UAAjB,EAAuB,CAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACrB,oBAAOF,GAAG,CAACW,IAAX,EACGP,IADH,CACQ,MAAMH,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGN,KAFH,CAESL,IAFT,CADF;AAMAJ,MAAM,CAACgB,KAAP,CAAa,MAAb,EAAqBN,UAArB,EAA2B,CAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACzB,oBAAO,EAAE,GAAGF,GAAG,CAACS,MAAT;AAAiB,KAAGT,GAAG,CAACW;AAAxB,CAAP,EACGP,IADH,CACQ,MAAMH,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGN,KAFH,CAESL,IAFT,CADF;AAMAJ,MAAM,CAACiB,MAAP,CAAc,MAAd,EAAsBP,UAAtB,EAA4B,CAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAC1B,oBAAOF,GAAG,CAACS,MAAX,EACGL,IADH,CACQ,MAAMH,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EADd,EAEGN,KAFH,CAESL,IAFT,CADF","sourcesContent":["import { Router } from \"express\";\nimport { auth } from \"~/core/auth\";\nimport { list } from \"./list\";\nimport { get } from \"./get\";\nimport { insert } from \"./insert\";\nimport { update } from \"./update\";\nimport { remove } from \"./remove\";\n\nexport const router = Router();\nexport { list, get, insert, update, remove };\n\nrouter.get(\"/\", (req, res, next) =>\n  list(req.query)\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.get(\"/:id\", auth, (req, res, next) =>\n  get(req.params)\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.post(\"/\", auth, (req, res, next) =>\n  insert(req.body)\n    .then(() => res.status(201).end())\n    .catch(next)\n);\n\nrouter.patch(\"/:id\", auth, (req, res, next) =>\n  update({ ...req.params, ...req.body })\n    .then(() => res.status(204).end())\n    .catch(next)\n);\n\nrouter.delete(\"/:id\", auth, (req, res, next) =>\n  remove(req.params)\n    .then(() => res.status(204).end())\n    .catch(next)\n);\n"],"file":"index.js"}