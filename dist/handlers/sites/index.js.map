{"version":3,"sources":["../../../src/handlers/sites/index.js"],"names":["router","get","req","res","next","query","limit","offset","then","data","json","catch","auth","id","params","post","name","body","siteCode","city","state","patch","delete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEO,MAAMA,MAAM,GAAG,sBAAf;;AAGPA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACd,gBAAK;AACHC,EAAAA,KAAK,EAAEH,GAAG,CAACG,KAAJ,CAAUA,KADd;AAEHC,EAAAA,KAAK,EAAEJ,GAAG,CAACG,KAAJ,CAAUC,KAFd;AAGHC,EAAAA,MAAM,EAAEL,GAAG,CAACG,KAAJ,CAAUE;AAHf,CAAL,EAKGC,IALH,CAKQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CALhB,EAMGE,KANH,CAMSP,IANT,CADF;AAUAJ,MAAM,CAACC,GAAP,CAAW,MAAX,EAAmBW,UAAnB,EAAyB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACvB,cAAI;AACFS,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD;AADb,CAAJ,EAGGL,IAHH,CAGQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CAHhB,EAIGE,KAJH,CAISP,IAJT,CADF;AAQAJ,MAAM,CAACe,IAAP,CAAY,GAAZ,EAAiBH,UAAjB,EAAuB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACrB,oBAAO;AACLY,EAAAA,IAAI,EAAEd,GAAG,CAACe,IAAJ,CAASD,IADV;AAELE,EAAAA,QAAQ,EAAEhB,GAAG,CAACe,IAAJ,CAASC,QAFd;AAGLC,EAAAA,IAAI,EAAEjB,GAAG,CAACe,IAAJ,CAASE,IAHV;AAILC,EAAAA,KAAK,EAAElB,GAAG,CAACe,IAAJ,CAASG;AAJX,CAAP,EAMGZ,IANH,CAMQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CANhB,EAOGE,KAPH,CAOSP,IAPT,CADF;AAWAJ,MAAM,CAACqB,KAAP,CAAa,MAAb,EAAqBT,UAArB,EAA2B,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KACzB,oBAAO;AACLS,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD,EADV;AAEL,KAAGX,GAAG,CAACe;AAFF,CAAP,EAIGT,IAJH,CAIQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CAJhB,EAKGE,KALH,CAKSP,IALT,CADF;AASAJ,MAAM,CAACsB,MAAP,CAAc,MAAd,EAAsBV,UAAtB,EAA4B,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAC1B,oBAAO;AACLS,EAAAA,EAAE,EAAEX,GAAG,CAACY,MAAJ,CAAWD;AADV,CAAP,EAGGL,IAHH,CAGQC,IAAI,IAAIN,GAAG,CAACO,IAAJ,CAASD,IAAT,CAHhB,EAIGE,KAJH,CAISP,IAJT,CADF","sourcesContent":["import { Router } from \"express\";\nimport { auth } from \"~/core/auth\";\nimport { list } from \"./list\";\nimport { get } from \"./get\";\nimport { insert } from \"./insert\";\nimport { update } from \"./update\";\nimport { remove } from \"./remove\";\n\nexport const router = Router();\nexport { list, get, insert, update, remove };\n\nrouter.get(\"/\", (req, res, next) =>\n  list({\n    query: req.query.query,\n    limit: req.query.limit,\n    offset: req.query.offset,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.get(\"/:id\", auth, (req, res, next) =>\n  get({\n    id: req.params.id,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.post(\"/\", auth, (req, res, next) =>\n  insert({\n    name: req.body.name,\n    siteCode: req.body.siteCode,\n    city: req.body.city,\n    state: req.body.state,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.patch(\"/:id\", auth, (req, res, next) =>\n  update({\n    id: req.params.id,\n    ...req.body,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n\nrouter.delete(\"/:id\", auth, (req, res, next) =>\n  remove({\n    id: req.params.id,\n  })\n    .then(data => res.json(data))\n    .catch(next)\n);\n"],"file":"index.js"}