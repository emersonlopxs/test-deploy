{"version":3,"sources":["../../../src/handlers/user/change-password.js"],"names":["changePassword","username","currentPassword","newPassword","user","models","users","getCredentialsInfo","helpers","password","verify","hashed","hash","updatePassword"],"mappings":";;;;;;;;;AACA;;AACA;;AAEO,MAAMA,cAAc,GAAG,OAAO;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,eAAZ;AAA6BC,EAAAA;AAA7B,CAAP,KAAsD;AAClF,QAAMC,IAAI,GAAG,MAAMC,MAAM,CAACC,KAAP,CAAaC,kBAAb,CAAgCN,QAAhC,CAAnB;AACA,QAAMO,OAAO,CAACC,QAAR,CAAiBC,MAAjB,CAAwBR,eAAxB,EAAyCE,IAAI,CAACK,QAA9C,CAAN;AACA,QAAME,MAAM,GAAG,MAAMH,OAAO,CAACC,QAAR,CAAiBG,IAAjB,CAAsBT,WAAtB,CAArB;AACA,QAAME,MAAM,CAACC,KAAP,CAAaO,cAAb,CAA4BZ,QAA5B,EAAsCU,MAAtC,CAAN;AACD,CALM","sourcesContent":["\nimport * as models from \"~/models\";\nimport * as helpers from \"~/helpers\";\n\nexport const changePassword = async ({ username, currentPassword, newPassword }) => {\n  const user = await models.users.getCredentialsInfo(username);\n  await helpers.password.verify(currentPassword, user.password);\n  const hashed = await helpers.password.hash(newPassword);\n  await models.users.updatePassword(username, hashed);\n};\n"],"file":"change-password.js"}