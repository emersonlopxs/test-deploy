{"version":3,"sources":["../../../src/models/students/remove.js"],"names":["remove","id","trans"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,MAAM,GAAG,OAAO;AAAEC,EAAAA;AAAF,CAAP,KACpB,gCAAiB,MAAMC,KAAN,IAAe;AAC9B,QAAMA,KAAK,CAACF,MAAN,CAAa,4CAAb,EAA2D,CAACC,EAAD,CAA3D,CAAN;AACA,QAAMC,KAAK,CAACF,MAAN,CAAa,yCAAb,EAAwD,CAACC,EAAD,CAAxD,CAAN;AACA,QAAMC,KAAK,CAACF,MAAN,CACH;AACP;AACA;AACA,OAJU,EAKJ,CAACC,EAAD,CALI,CAAN;AAOA,QAAMC,KAAK,CAACF,MAAN,CAAa,uCAAb,EAAsD,CAACC,EAAD,CAAtD,CAAN;AACA,QAAMC,KAAK,CAACF,MAAN,CAAa,gCAAb,EAA+C,CAACC,EAAD,CAA/C,CAAN;AACD,CAZD,CADK","sourcesContent":["import { beginTransaction } from \"~/core/database\";\n\nexport const remove = async ({ id }) =>\n  beginTransaction(async trans => {\n    await trans.remove(\"delete from notifications where userId = ?\", [id]);\n    await trans.remove(\"delete from usersRoles where userId = ?\", [id]);\n    await trans.remove(\n      `\n        delete from userClasses\n        where userId = ?\n      `,\n      [id]\n    );\n    await trans.remove(\"delete from students where userId = ?\", [id]);\n    await trans.remove(\"delete from users where id = ?\", [id]);\n  });\n"],"file":"remove.js"}