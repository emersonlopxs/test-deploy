{"version":3,"sources":["../../../src/models/associates/list.js"],"names":["list","query","limit","offset","rows","db","select","count","total","first"],"mappings":";;;;;;;;;AAAA;;AAEO,MAAMA,IAAI,GAAG,OAAO;AAAEC,EAAAA,KAAF;AAASC,EAAAA,KAAK,GAAG,EAAjB;AAAqBC,EAAAA,MAAM,GAAG;AAA9B,CAAP,KAA6C;AAC/D,QAAMC,IAAI,GAAG,MAAMC,EAAE,CAACC,MAAH,CAChB;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZqB,EAajB,CAACJ,KAAD,EAAQC,MAAR,CAbiB,CAAnB;AAgBA,QAAM;AAAEI,IAAAA,KAAK,EAAEC;AAAT,MAAmB,MAAMH,EAAE,CAACI,KAAH,CAC5B;AACL;AACA;AACA;AACA,KALiC,EAM7B,CAACP,KAAD,EAAQC,MAAR,CAN6B,CAA/B;AASA,SAAO;AAAEF,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBC,IAAAA,MAAhB;AAAwBK,IAAAA,KAAxB;AAA+BJ,IAAAA;AAA/B,GAAP;AACD,CA3BM","sourcesContent":["import * as db from \"~/core/database\";\n\nexport const list = async ({ query, limit = 10, offset = 0 }) => {\n  const rows = await db.select(\n    `\n    select\n      id,\n      name,\n      color,\n      description,\n      button as button_text,\n      image_link,\n      link\n    from associates\n    limit ? offset ?\n    `,\n    [limit, offset]\n  );\n\n  const { count: total } = await db.first(\n    `\n    select\n      count(*) as count\n    from associates\n    `,\n    [limit, offset]\n  );\n\n  return { query, limit, offset, total, rows };\n};\n"],"file":"list.js"}