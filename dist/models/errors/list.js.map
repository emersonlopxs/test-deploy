{"version":3,"sources":["../../../src/models/errors/list.js"],"names":["list","data","db","select","project","like","package","enviroment","module","file","message","stack","error","ip","method","path","reqheaders","reqbody","status","statusText","resheaders","resbody","sqltext","envvars","extra","limit","offset"],"mappings":"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","sourcesContent":["import * as db from \"~/core/database\";\n\nexport const list = data =>\n  db.select(\n    `\n    select *\n    from debug.errors\n    where 1 = 1\n    ${data.project ? `and project like ${db.like(data.project)}` : \"\"}\n    ${data.package ? `and package like ${db.like(data.package)}` : \"\"}\n    ${data.enviroment ? `and enviroment like ${db.like(data.enviroment)}` : \"\"}\n    ${data.module ? `and module like ${db.like(data.module)}` : \"\"}\n    ${data.file ? `and file like ${db.like(data.file)}` : \"\"}\n    ${data.message ? `and message like ${db.like(data.message)}` : \"\"}\n    ${data.stack ? `and stack like ${db.like(data.stack)}` : \"\"}\n    ${data.error ? `and error like ${db.like(data.error)}` : \"\"}\n    ${data.ip ? `and ip like ${db.like(data.ip)}` : \"\"}\n    ${data.method ? `and method like ${db.like(data.method)}` : \"\"}\n    ${data.path ? `and path like ${db.like(data.path)}` : \"\"}\n    ${data.reqheaders ? `and reqheaders like ${db.like(data.reqheaders)}` : \"\"}\n    ${data.reqbody ? `and reqbody like ${db.like(data.reqbody)}` : \"\"}\n    ${data.status ? `and status = ${db.like(data.status)}` : \"\"}\n    ${data.statusText ? `and statusText like ${db.like(data.statusText)}` : \"\"}\n    ${data.resheaders ? `and resheaders like ${db.like(data.resheaders)}` : \"\"}\n    ${data.resbody ? `and resbody like ${db.like(data.resbody)}` : \"\"}\n    ${data.sqltext ? `and sqltext like ${db.like(data.sqltext)}` : \"\"}\n    ${data.envvars ? `and envvars like ${db.like(data.envvars)}` : \"\"}\n    ${data.extra ? `and extra like ${db.like(data.extra)}` : \"\"}\n    order by id desc\n    limit ${data.limit || 10} offset ${data.offset || 0}\n`,\n    []\n  );\n"],"file":"list.js"}